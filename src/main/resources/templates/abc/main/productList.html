<!DOCTYPE html>
<!--suppress ALL -->
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>productList</title>
	<link href="/css/matcat.css" rel="stylesheet">
	
	<script crossorigin="anonymous"
	        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
	        src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
	<script src="/js/main.js" type="text/javascript"></script>
</head>
<body>
<div th:replace="/common/searchHeader.html"></div>
<!-- 탑버튼 -->
<a href="#" id="toTop"><img src="/image/화살표 좌.png"></a>
<!-- 양쪽 서브 메뉴 -->
<div th:replace="/common/RightSidebar.html"></div>
<th:block th:if="${paging.searchValue != null}">
<div class="categorymenu">
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=1&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''" th:classappend="${categoryCode} != 1 ? 'hello2'" >전체보기</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=10&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''" th:classappend="${categoryCode} != 10 ? 'hello2'" >한식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=20&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''" th:classappend="${categoryCode} != 20 ? 'hello2'" >양식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=30&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''" th:classappend="${categoryCode} != 30 ? 'hello2'" >중식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=40&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''" th:classappend="${categoryCode} != 40 ? 'hello2'" >일식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=50&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''" th:classappend="${categoryCode} != 50 ? 'hello2'" >기타</button>
</div>
</th:block>
<th:block th:if="${paging.searchValue == null}">
<div class="categorymenu">
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=1&page=1'} + '\''" th:classappend="${categoryCode} == 1 ? 'hello2'" >전체보기</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=10&page=1'} + '\''" th:classappend="${categoryCode} == 10 ? 'hello2'" >한식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=20&page=1'} + '\''" th:classappend="${categoryCode} == 20 ? 'hello2'" >양식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=30&page=1'} + '\''" th:classappend="${categoryCode} == 30 ? 'hello2'" >중식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=40&page=1'} + '\''" th:classappend="${categoryCode} == 40 ? 'hello2'" >일식</button>
	<button class="ctg" th:onclick="'location.href=\'' + @{'/productList?arrayCode='+${arrayCode}+'&categoryCode=50&page=1'} + '\''" th:classappend="${categoryCode} == 50 ? 'hello2'" >기타</button>
</div>
</th:block>
<div id="searchfont">
	<form method="get">
		<a>상품목록</a>
	</form>
</div>
<div id="countmenu">
	<ul class="menuoption">
		<li class="all" th:text="|전체 (${paging.totalCount})|"></li>
		<li class="semiall" th:text="|출력 (${productList.size()})|"></li>
	</ul>
	<!-- 검색어 있을 때 설정 -->
	<th:block th:if="${paging.searchValue != null}">
		<ul class="menuoption">
			<li>
				<button class="menuoptiontoll1"
				        th:classappend="${arrayCode} != 1 ? 'hello'"
				        th:onclick="'location.href=\'' + @{'/productList?arrayCode=1&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''">
					신상품
				</button>
			</li>
			<li>
				<button class="menuoptiontoll2"
				        th:classappend="${arrayCode} != 2 ? 'hello'"
				        th:onclick="'location.href=\'' + @{'/productList?arrayCode=2&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''">베스트상품
				</button>
			</li>
			<li>
				<button class="menuoptiontoll3"
				        th:classappend="${arrayCode} != 3 ? 'hello'"
				        th:onclick="'location.href=\'' + @{'/productList?arrayCode=3&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''">높은 가격순
				</button>
			</li>
			<li>
				<button class="menuoptiontoll4"
				        th:classappend="${arrayCode} != 4 ? 'hello'"
				        th:onclick="'location.href=\'' + @{'/productList?arrayCode=4&searchValue=' + ${paging.searchValue} + '&page=1'} + '\''">낮은 가격순
				</button>
			</li>
		</ul>
	</th:block>
	<!-- 검색어 없을 때 설정 -->
	<th:block th:if="${paging.searchValue == null}">
		<ul class="menuoption">
			<li>
				<button class="menuoptiontoll1"
				        th:classappend="${arrayCode} != 1 ? 'hello'"
				        th:onclick="'location.href=\'' + @{'/productList?arrayCode=1&categoryCode=' + ${categoryCode} + '&page=1'} + '\''">
					신상품
				</button>
			</li>
			<li>
				<button class="menuoptiontoll2"
				        th:classappend="${arrayCode} != 2 ? 'hello'"
				        th:onclick="'location.href=\'' + @{'/productList?arrayCode=2&categoryCode=' + ${categoryCode} + '&page=1'} + '\''">베스트상품
				</button>
			</li>
			<li>
				<button class="menuoptiontoll3"
				        th:classappend="${arrayCode} != 3 ? 'hello'"
				        th:onclick="'location.href=\'' + @{'/productList?arrayCode=3&categoryCode=' + ${categoryCode} + '&page=1'} + '\''">높은 가격순
				</button>
			</li>
			<li>
				<button class="menuoptiontoll4" th:classappend="${arrayCode} != 4 ? 'hello'" th:onclick="'location.href=\'' + @{'/productList?arrayCode=4&categoryCode=' + ${categoryCode} + '&page=1'} + '\''">낮은 가격순
				</button>
			</li>
		</ul>
	</th:block>

</div>
<hr id="hr">
<div id="body-searchmenu">
	<div id="searchmenu">
		<form id="productform" method="get">
			<th:block th:if="${ productList != null and productList != '' }">
				<table class="product_set" th:each="product : ${ productList }">
					<tr>
						<td>
							<th:block th:each="file : ${product.filesList}">
								<a th:href="@{/menusemi(no=${product.code})}"><img class="pic" th:src="${file.thumbPath}"/></a>
							</th:block>
						</td>
					</tr>
					<tr>
						<td th:text="${ product.name }"></td>
					</tr>
					<tr>
						<td th:text="${ #numbers.formatInteger(product.price,3,'COMMA')+' 원' }"></td>
					</tr>
				</table>
			</th:block>
			<th:block th:if="${ mainCategoryList != null and mainCategoryList != '' }">
				<table class="product_set" th:each="product : ${ mainCategoryList }">
					<tr>
						<td>
							<a href="/menusemi"><img class="pic" src="/image/메인페이지사진.jpg"></a>
						</td>
					</tr>
					<tr>
						<td th:text="${ product.name }"></td>
					</tr>
					<tr>
						<td th:text="${ #numbers.formatInteger(product.price,3,'COMMA')+' 원' }"></td>
					</tr>
				</table>
			</th:block>
			<th:block th:if="${ mainSearchProductList != null and mainSearchProductList != '' }">
				<table class="product_set" th:each="product : ${ mainSearchProductList }">
					<tr>
						<td>
							<a href="/menusemi"><img class="pic" src="/image/메인페이지사진.jpg"></a>
						</td>
					</tr>
					<tr>
						<td th:text="${ product.name }"></td>
					</tr>
					<tr>
						<td th:text="${ #numbers.formatInteger(product.price,3,'COMMA')+' 원' }"></td>
					</tr>
				</table>
			</th:block>
		</form>
	</div>
	<div id="paging" style="margin-top: 20px;">
		<th:block
				th:if="${ paging.searchValue != null }">
			<!-- << -->
			<button
					th:disabled="${ paging.page <= 1 }"
					th:onclick="'location.href=\'/productList?arrayCode='+@{${arrayCode}}+'&page=1&searchValue=' + @{${paging.searchValue}} + '\''"
					>
				&lt;&lt;
			</button>
			<!-- < -->
			<button
					th:disabled="${ paging.page <= 1 }"
					th:onclick="'location.href=\'/productList?arrayCode='+@{${arrayCode}}+'&page=' + @{${paging.page - 1}} +
'&searchValue=' + @{${paging.searchValue}} + '\''" >&lt;
			</button>
			<!-- 숫자버튼 클릭못하게 하기 -->
			<th:block th:each="page : ${ #numbers.sequence(paging.startPage, paging.endPage)}">
				<button
						th:disabled="${ paging.page eq page }"
						th:onclick="'location.href=\'/productList?arrayCode='+@{${arrayCode}}+'&page=' + @{${page}} +
'&searchValue=' + @{${paging.searchValue}} + '\''" th:text="${ page }" >
				</button>
			</th:block>
			<!-- > -->
			<button
					th:disabled="${ paging.page >= paging.maxPage }"
					th:onclick="'location.href=\'/productList?arrayCode='+@{${arrayCode}}+'&page=' + @{${paging.page + 1}} +
'&searchValue=' + @{${paging.searchValue}} + '\''" >>
			</button>
			<!-- >> -->
			<button
					th:disabled="${ paging.page >= paging.maxPage }"
					th:onclick="'location.href=\'/productList?arrayCode='+@{${arrayCode}}+'&page=' + @{${paging.maxPage}} + '&searchValue=' + @{${paging.searchValue}} + '\''"
					>
				>>
			</button>
		</th:block>
		<!-- 검색 안했을때 설정 -->
		<th:block
				th:if="${paging.searchValue == null}">
			<button
					th:disabled="${ paging.page <= 1 }"
					th:onclick="'location.href=\'' + @{'/productList?arrayCode=' + ${arrayCode} + '&categoryCode=' + ${categoryCode} + '&page=1'} + '\''"
					>
				&lt;&lt;
			</button>
			<button
					th:disabled="${ paging.page <= 1 }"
					th:onclick="'location.href=\'' + @{'/productList?arrayCode=' + ${arrayCode} + '&categoryCode=' + ${categoryCode} + '&page=' + ${paging.page - 1}} + '\''"
					>
				&lt;
			</button>
			<th:block
					th:each="page : ${ #numbers.sequence(paging.startPage, paging.endPage)}">
				<button
						th:disabled="${ paging.page eq page }"
						th:onclick="'location.href=\'' + @{'/productList?arrayCode=' + ${arrayCode} + '&categoryCode=' + ${categoryCode} + '&page=' + ${page}} + '\''"
						th:text="${ page }" >
				</button>
			</th:block>
			<button
					th:disabled="${ paging.page >= paging.maxPage }"
					th:onclick="'location.href=\'' + @{'/productList?arrayCode=' + ${arrayCode} + '&categoryCode=' + ${categoryCode} + '&page=' + ${paging.page + 1}} + '\''"
					>
				>
			</button>
			<button
					th:disabled="${ paging.page >= paging.maxPage }"
					th:onclick="'location.href=\'' + @{'/productList?arrayCode=' + ${arrayCode} + '&categoryCode=' + ${categoryCode} + '&page=' + ${paging.maxPage}} + '\''"
					>
				>>
			</button>
		</th:block>
	</div>

</div>
<script>
	<!-- 탑버튼 자바스크립트 -->
	$(function () {
		$(window).scroll(function () {
			if ($(this).scrollTop() > 200) {
				$('#toTop').fadeIn();
				$('#toTop').css('left', $('#sidebar').offset());
			} else {
				$('#toTop').fadeOut();
			}
		});
		$("#toTop").click(function () {
			$('html, body').animate({
				scrollTop: 0
			}, 400);
			return false;
		});
	});

</script>

</body>
</html>
